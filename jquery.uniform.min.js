(function(c,q){c.uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose File",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"uniform",resetSelector:!1,autoHide:!0,selectAutoWidth:!1},elements:[]};c.support.selectOpacity=c.browser.msie&&7>c.browser.version?
!1:!0;c.fn.uniform=function(b){function m(a){a.data("uniformed","true");var a=a.get(),b;for(b=0;b<a.length;b+=1)c.uniform.elements.push(a[b])}var t=this,b=c.extend({},c.uniform.options,b);!1!==b.resetSelector&&c(b.resetSelector).mouseup(function(){window.setTimeout(function(){c.uniform.update(t)},10)});c.uniform.restore=function(b){b===q&&(b=c(c.uniform.elements));c(b).each(function(){if(c(this).data("uniformed")){c(this).is(":checkbox")?c(this).unwrap().unwrap():c(this).is("select")?(c(this).siblings("span").remove(),
c(this).unwrap()):c(this).is(":radio")?c(this).unwrap().unwrap():c(this).is(":file")?(c(this).siblings("span").remove(),c(this).unwrap()):c(this).is("button, :submit, :reset, a, input[type='button']")&&c(this).unwrap().unwrap();c(this).unbind(".uniform");c(this).css("opacity","1");var f=c.inArray(c(b),c.uniform.elements);c.uniform.elements.splice(f,1);c(this).removeData("uniformed")}})};c.uniform.noSelect=function(b){var f=function(){return!1};c(b).each(function(){this.onselectstart=this.ondragstart=
f;c(this).mousedown(f).css({MozUserSelect:"none"})})};c.uniform.update=function(a){a===q&&(a=c(c.uniform.elements));a=c(a);a.each(function(){var a=c(this),d,e;a.data("uniformed")&&(a.is("select")?(d=a.siblings("span"),e=a.parent("div"),e.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass),d.html(a.find(":selected").html()),a.is(":disabled")?e.addClass(b.disabledClass):e.removeClass(b.disabledClass)):a.is(":checkbox")?(d=a.closest("span"),e=a.closest("div"),e.removeClass(b.hoverClass+" "+
b.focusClass+" "+b.activeClass),d.removeClass(b.checkedClass),a.is(":checked")&&d.addClass(b.checkedClass),a.is(":disabled")?e.addClass(b.disabledClass):e.removeClass(b.disabledClass)):a.is(":radio")?(d=a.closest("span"),e=a.closest("div"),e.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass),d.removeClass(b.checkedClass),a.is(":checked")&&d.addClass(b.checkedClass),a.is(":disabled")?e.addClass(b.disabledClass):e.removeClass(b.disabledClass)):a.is(":file")?(e=a.parent("div"),d=a.siblings("."+
b.filenameClass),a.siblings(b.fileBtnClass),e.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass),d.text(a.val()),a.is(":disabled")?e.addClass(b.disabledClass):e.removeClass(b.disabledClass)):a.is(":submit, :reset, button, a, input[type='button']")&&(e=a.closest("div"),e.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass),a.is(":disabled")?e.addClass(b.disabledClass):e.removeClass(b.disabledClass)))})};return this.each(function(){var a=c(this),f;if(!a.data("uniformed")&&c.support.selectOpacity)if(a.is("select")){if(!this.multiple&&
(f=a.attr("size"),f===q||1>=f)){var d=c("<div />"),e=c("<span />");f=a.width();var g,s;"none"===a.css("display")&&b.autoHide&&d.hide();d.addClass(b.selectClass);b.selectAutoWidth&&(g=d.width(),s=e.width(),d.width(g-(s-f)+25),a.width(f+32),a.css("left","2px"),e.width(f));b.useID&&a.attr("id")&&d.attr("id",b.idPrefix+"-"+a.attr("id"));g=a.find(":selected:first");g.length||(g=a.find("option:first"));e.html(g.html());a.css("opacity",0);a.wrap(d);a.before(e);d=a.parent("div");e=a.siblings("span");b.selectAutoWidth&&
(g=parseInt(d.css("paddingLeft"),10),e.width(f-g-15),a.width(f+g),a.css("min-width",f+g+"px"),d.width(f+g));a.bind("change.uniform",function(){e.html(a.find(":selected").html());d.removeClass(b.activeClass)}).bind("focus.uniform",function(){d.addClass(b.focusClass)}).bind("blur.uniform",function(){d.removeClass(b.focusClass);d.removeClass(b.activeClass)}).bind("mousedown.uniform touchbegin.uniform",function(){d.addClass(b.activeClass)}).bind("mouseup.uniform touchend.uniform",function(){d.removeClass(b.activeClass)}).bind("click.uniform touchend.uniform",
function(){d.removeClass(b.activeClass)}).bind("mouseenter.uniform",function(){d.addClass(b.hoverClass)}).bind("mouseleave.uniform",function(){d.removeClass(b.hoverClass);d.removeClass(b.activeClass)}).bind("keyup.uniform",function(){e.html(a.find(":selected").html())});a.is(":disabled")&&d.addClass(b.disabledClass);c.uniform.noSelect(e);m(a);f=a.width();d.width(f);e.width(f-25)}}else if(a.is(":checkbox")){var j=c("<div />"),n=c("<span />");"none"===a.css("display")&&b.autoHide&&j.hide();j.addClass(b.checkboxClass);
b.useID&&a.attr("id")&&j.attr("id",b.idPrefix+"-"+a.attr("id"));a.wrap(j);a.wrap(n);n=a.parent();j=n.parent();a.css("opacity",0).bind("focus.uniform",function(){j.addClass(b.focusClass)}).bind("blur.uniform",function(){j.removeClass(b.focusClass)}).bind("click.uniform touchend.uniform",function(){a.is(":checked")?(a.attr("checked","checked"),n.addClass(b.checkedClass)):(a.removeAttr("checked"),n.removeClass(b.checkedClass))}).bind("mousedown.uniform touchbegin.uniform",function(){j.addClass(b.activeClass)}).bind("mouseup.uniform touchend.uniform",
function(){j.removeClass(b.activeClass)}).bind("mouseenter.uniform",function(){j.addClass(b.hoverClass)}).bind("mouseleave.uniform",function(){j.removeClass(b.hoverClass);j.removeClass(b.activeClass)});a.is(":checked")&&(a.attr("checked","checked"),n.addClass(b.checkedClass));a.is(":disabled")&&j.addClass(b.disabledClass);m(a)}else if(a.is(":radio")){var k=c("<div />"),o=c("<span />");"none"===a.css("display")&&b.autoHide&&k.hide();k.addClass(b.radioClass);b.useID&&a.attr("id")&&k.attr("id",b.idPrefix+
"-"+a.attr("id"));a.wrap(k);a.wrap(o);o=a.parent();k=o.parent();a.css("opacity",0).bind("focus.uniform",function(){k.addClass(b.focusClass)}).bind("blur.uniform",function(){k.removeClass(b.focusClass)}).bind("click.uniform touchend.uniform",function(){if(a.is(":checked")){var d=b.radioClass.split(" ")[0];c("."+d+" span."+b.checkedClass+":has([name='"+a.attr("name")+"'])").removeClass(b.checkedClass);o.addClass(b.checkedClass)}else o.removeClass(b.checkedClass)}).bind("mousedown.uniform touchend.uniform",
function(){a.is(":disabled")||k.addClass(b.activeClass)}).bind("mouseup.uniform touchbegin.uniform",function(){k.removeClass(b.activeClass)}).bind("mouseenter.uniform touchend.uniform",function(){k.addClass(b.hoverClass)}).bind("mouseleave.uniform",function(){k.removeClass(b.hoverClass);k.removeClass(b.activeClass)});a.is(":checked")&&o.addClass(b.checkedClass);a.is(":disabled")&&k.addClass(b.disabledClass);m(a)}else if(a.is(":file")){var r=function(){l=a.val();""===l?l=b.fileDefaultText:(l=l.split(/[\/\\]+/),
l=l[l.length-1]);p.text(l)},h=c("<div />"),p=c("<span>"+b.fileDefaultText+"</span>");f=c("<span>"+b.fileBtnText+"</span>");var l;"none"===a.css("display")&&b.autoHide&&h.hide();h.addClass(b.fileClass);p.addClass(b.filenameClass);f.addClass(b.fileBtnClass);b.useID&&a.attr("id")&&h.attr("id",b.idPrefix+"-"+a.attr("id"));a.wrap(h);a.after(f);a.after(p);h=a.closest("div");p=a.siblings("."+b.filenameClass);f=a.siblings("."+b.fileBtnClass);a.attr("size")||a.attr("size",h.width()/10);r();a.css("opacity",
0).bind("focus.uniform",function(){h.addClass(b.focusClass)}).bind("blur.uniform",function(){h.removeClass(b.focusClass)}).bind("mousedown.uniform",function(){a.is(":disabled")||h.addClass(b.activeClass)}).bind("mouseup.uniform",function(){h.removeClass(b.activeClass)}).bind("mouseenter.uniform",function(){h.addClass(b.hoverClass)}).bind("mouseleave.uniform",function(){h.removeClass(b.hoverClass);h.removeClass(b.activeClass)});c.browser.msie?a.bind("click.uniform.ie7",function(){setTimeout(r,0)}):
a.bind("change.uniform",r);a.is(":disabled")&&h.addClass(b.disabledClass);c.uniform.noSelect(p);c.uniform.noSelect(f);m(a)}else if(a.is(":text, :password, input[type='email'], input[type='search'], input[type='tel'], input[type='url'], input[type='datetime'], input[type='date'], input[type='month'], input[type='week'], input[type='time'], input[type='datetime-local'], input[type='number'], input[type='color']"))a.addClass(a.attr("type")),m(a);else if(a.is("textarea"))a.addClass("uniform"),m(a);else if(a.is("a, :submit, :reset, button, input[type='button']")){var i=
c("<div>");f=c("<span>");i.addClass(b.buttonClass);b.useID&&a.attr("id")&&i.attr("id",b.idPrefix+"-"+a.attr("id"));a.is("a, button")?g=a.text():a.is(":submit, :reset, input[type=button]")&&(g=a.attr("value"));g=g||(a.is(":reset")?"Reset":"Submit");f.text(g);a.css("display","none");a.wrap(i);a.wrap(f);i=a.closest("div");f=a.closest("span");a.is(":disabled")&&i.addClass(b.disabledClass);i.bind("mouseenter.uniform",function(){i.addClass(b.hoverClass)}).bind("mouseleave.uniform",function(){i.removeClass(b.hoverClass);
i.removeClass(b.activeClass)}).bind("mousedown.uniform touchbegin.uniform",function(){i.addClass(b.activeClass)}).bind("mouseup.uniform touchend.uniform",function(){i.removeClass(b.activeClass)}).bind("click.uniform touchend.uniform",function(b){c(b.target).is("span, div")&&(a[0].dispatchEvent?(b=document.createEvent("MouseEvents"),b.initEvent("click",!0,!0),a[0].dispatchEvent(b)):a.click())});a.bind("focus.uniform",function(){i.addClass(b.focusClass)}).bind("blur.uniform",function(){i.removeClass(b.focusClass)});
c.uniform.noSelect(i);m(a)}})}})(jQuery);
