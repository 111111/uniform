(function(c,p){c.uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose File",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"uniform",resetSelector:!1,autoHide:!0,selectAutoWidth:!1},elements:[]};c.support.selectOpacity=c.browser.msie&&7>c.browser.version?
!1:!0;c.fn.uniform=function(b){function l(b){b.data("uniformed","true");elem=b.get();1<elem.length?c.each(elem,function(b,a){c.uniform.elements.push(a)}):c.uniform.elements.push(elem)}var q=this,b=c.extend({},c.uniform.options,b);!1!==b.resetSelector&&c(b.resetSelector).mouseup(function(){window.setTimeout(function(){c.uniform.update(q)},10)});c.uniform.restore=function(b){b==p&&(b=c(c.uniform.elements));c(b).each(function(){if(c(this).data("uniformed")){c(this).is(":checkbox")?c(this).unwrap().unwrap():
c(this).is("select")?(c(this).siblings("span").remove(),c(this).unwrap()):c(this).is(":radio")?c(this).unwrap().unwrap():c(this).is(":file")?(c(this).siblings("span").remove(),c(this).unwrap()):c(this).is("button, :submit, :reset, a, input[type='button']")&&c(this).unwrap().unwrap();c(this).unbind(".uniform");c(this).css("opacity","1");var e=c.inArray(c(b),c.uniform.elements);c.uniform.elements.splice(e,1);c(this).removeData("uniformed")}})};c.uniform.noSelect=function(b){var e=function(){return!1};
c(b).each(function(){this.onselectstart=this.ondragstart=e;c(this).mousedown(e).css({MozUserSelect:"none"})})};c.uniform.update=function(a){a==p&&(a=c(c.uniform.elements));a=c(a);a.each(function(){var a=c(this);if(a.data("uniformed"))if(a.is("select")){var d=a.siblings("span"),f=a.parent("div");f.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass);d.html(a.find(":selected").html());a.is(":disabled")?f.addClass(b.disabledClass):f.removeClass(b.disabledClass)}else a.is(":checkbox")?(d=a.closest("span"),
f=a.closest("div"),f.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass),d.removeClass(b.checkedClass),a.is(":checked")&&d.addClass(b.checkedClass),a.is(":disabled")?f.addClass(b.disabledClass):f.removeClass(b.disabledClass)):a.is(":radio")?(d=a.closest("span"),f=a.closest("div"),f.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass),d.removeClass(b.checkedClass),a.is(":checked")&&d.addClass(b.checkedClass),a.is(":disabled")?f.addClass(b.disabledClass):f.removeClass(b.disabledClass)):
a.is(":file")?(d=a.parent("div"),f=a.siblings("."+b.filenameClass),btnTag=a.siblings(b.fileBtnClass),d.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass),f.text(a.val()),a.is(":disabled")?d.addClass(b.disabledClass):d.removeClass(b.disabledClass)):a.is(":submit, :reset, button, a, input[type='button']")&&(d=a.closest("div"),d.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass),a.is(":disabled")?d.addClass(b.disabledClass):d.removeClass(b.disabledClass))})};return this.each(function(){var a=
c(this);if(!a.data("uniformed")&&c.support.selectOpacity)if(a.is("select")){if(!this.multiple){var e=a.attr("size");if(e==p||1>=e){var d=c("<div />"),f=c("<span />"),e=a.width();"none"==a.css("display")&&b.autoHide&&d.hide();d.addClass(b.selectClass);if(b.selectAutoWidth){var g=d.width(),q=f.width()-e;d.width(g-q+25);a.width(e+32);a.css("left","2px");f.width(e)}b.useID&&a.attr("id")&&d.attr("id",b.idPrefix+"-"+a.attr("id"));g=a.find(":selected:first");g.length||(g=a.find("option:first"));f.html(g.html());
a.css("opacity",0);a.wrap(d);a.before(f);d=a.parent("div");f=a.siblings("span");b.selectAutoWidth&&(g=parseInt(d.css("paddingLeft"),10),f.width(e-g-15),a.width(e+g),a.css("min-width",e+g+"px"),d.width(e+g));a.bind("change.uniform",function(){f.html(a.find(":selected").html());d.removeClass(b.activeClass)}).bind("focus.uniform",function(){d.addClass(b.focusClass)}).bind("blur.uniform",function(){d.removeClass(b.focusClass);d.removeClass(b.activeClass)}).bind("mousedown.uniform touchbegin.uniform",
function(){d.addClass(b.activeClass)}).bind("mouseup.uniform touchend.uniform",function(){d.removeClass(b.activeClass)}).bind("click.uniform touchend.uniform",function(){d.removeClass(b.activeClass)}).bind("mouseenter.uniform",function(){d.addClass(b.hoverClass)}).bind("mouseleave.uniform",function(){d.removeClass(b.hoverClass);d.removeClass(b.activeClass)}).bind("keyup.uniform",function(){f.html(a.find(":selected").html())});a.is(":disabled")&&d.addClass(b.disabledClass);c.uniform.noSelect(f);l(a);
e=a.width();d.width(e);f.width(e-25)}}}else if(a.is(":checkbox")){var j=c("<div />"),m=c("<span />");"none"==a.css("display")&&b.autoHide&&j.hide();j.addClass(b.checkboxClass);b.useID&&a.attr("id")&&j.attr("id",b.idPrefix+"-"+a.attr("id"));a.wrap(j);a.wrap(m);m=a.parent();j=m.parent();a.css("opacity",0).bind("focus.uniform",function(){j.addClass(b.focusClass)}).bind("blur.uniform",function(){j.removeClass(b.focusClass)}).bind("click.uniform touchend.uniform",function(){a.is(":checked")?(a.attr("checked",
"checked"),m.addClass(b.checkedClass)):(a.removeAttr("checked"),m.removeClass(b.checkedClass))}).bind("mousedown.uniform touchbegin.uniform",function(){j.addClass(b.activeClass)}).bind("mouseup.uniform touchend.uniform",function(){j.removeClass(b.activeClass)}).bind("mouseenter.uniform",function(){j.addClass(b.hoverClass)}).bind("mouseleave.uniform",function(){j.removeClass(b.hoverClass);j.removeClass(b.activeClass)});a.is(":checked")&&(a.attr("checked","checked"),m.addClass(b.checkedClass));a.is(":disabled")&&
j.addClass(b.disabledClass);l(a)}else if(a.is(":radio")){var k=c("<div />"),n=c("<span />");"none"==a.css("display")&&b.autoHide&&k.hide();k.addClass(b.radioClass);b.useID&&a.attr("id")&&k.attr("id",b.idPrefix+"-"+a.attr("id"));a.wrap(k);a.wrap(n);n=a.parent();k=n.parent();a.css("opacity",0).bind("focus.uniform",function(){k.addClass(b.focusClass)}).bind("blur.uniform",function(){k.removeClass(b.focusClass)}).bind("click.uniform touchend.uniform",function(){if(a.is(":checked")){var d=b.radioClass.split(" ")[0];
c("."+d+" span."+b.checkedClass+":has([name='"+a.attr("name")+"'])").removeClass(b.checkedClass);n.addClass(b.checkedClass)}else n.removeClass(b.checkedClass)}).bind("mousedown.uniform touchend.uniform",function(){a.is(":disabled")||k.addClass(b.activeClass)}).bind("mouseup.uniform touchbegin.uniform",function(){k.removeClass(b.activeClass)}).bind("mouseenter.uniform touchend.uniform",function(){k.addClass(b.hoverClass)}).bind("mouseleave.uniform",function(){k.removeClass(b.hoverClass);k.removeClass(b.activeClass)});
a.is(":checked")&&n.addClass(b.checkedClass);a.is(":disabled")&&k.addClass(b.disabledClass);l(a)}else if(a.is(":file")){var h=c("<div />"),o=c("<span>"+b.fileDefaultText+"</span>"),e=c("<span>"+b.fileBtnText+"</span>");"none"==a.css("display")&&b.autoHide&&h.hide();h.addClass(b.fileClass);o.addClass(b.filenameClass);e.addClass(b.fileBtnClass);b.useID&&a.attr("id")&&h.attr("id",b.idPrefix+"-"+a.attr("id"));a.wrap(h);a.after(e);a.after(o);h=a.closest("div");o=a.siblings("."+b.filenameClass);e=a.siblings("."+
b.fileBtnClass);a.attr("size")||a.attr("size",h.width()/10);var r=function(){var c=a.val();""===c?c=b.fileDefaultText:(c=c.split(/[\/\\]+/),c=c[c.length-1]);o.text(c)};r();a.css("opacity",0).bind("focus.uniform",function(){h.addClass(b.focusClass)}).bind("blur.uniform",function(){h.removeClass(b.focusClass)}).bind("mousedown.uniform",function(){a.is(":disabled")||h.addClass(b.activeClass)}).bind("mouseup.uniform",function(){h.removeClass(b.activeClass)}).bind("mouseenter.uniform",function(){h.addClass(b.hoverClass)}).bind("mouseleave.uniform",
function(){h.removeClass(b.hoverClass);h.removeClass(b.activeClass)});c.browser.msie?a.bind("click.uniform.ie7",function(){setTimeout(r,0)}):a.bind("change.uniform",r);a.is(":disabled")&&h.addClass(b.disabledClass);c.uniform.noSelect(o);c.uniform.noSelect(e);l(a)}else if(a.is(":text, :password, input[type='email'], input[type='search'], input[type='tel'], input[type='url'], input[type='datetime'], input[type='date'], input[type='month'], input[type='week'], input[type='time'], input[type='datetime-local'], input[type='number'], input[type='color']"))a.addClass(a.attr("type")),
l(a);else if(a.is("textarea"))a.addClass("uniform"),l(a);else if(a.is("a, :submit, :reset, button, input[type='button']")){var i=c("<div>"),e=c("<span>");i.addClass(b.buttonClass);b.useID&&a.attr("id")&&i.attr("id",b.idPrefix+"-"+a.attr("id"));a.is("a, button")?g=a.text():a.is(":submit, :reset, input[type=button]")&&(g=a.attr("value"));g=g||(a.is(":reset")?"Reset":"Submit");e.text(g);a.css("display","none");a.wrap(i);a.wrap(e);i=a.closest("div");e=a.closest("span");a.is(":disabled")&&i.addClass(b.disabledClass);
i.bind("mouseenter.uniform",function(){i.addClass(b.hoverClass)}).bind("mouseleave.uniform",function(){i.removeClass(b.hoverClass);i.removeClass(b.activeClass)}).bind("mousedown.uniform touchbegin.uniform",function(){i.addClass(b.activeClass)}).bind("mouseup.uniform touchend.uniform",function(){i.removeClass(b.activeClass)}).bind("click.uniform touchend.uniform",function(b){c(b.target).is("span, div")&&(a[0].dispatchEvent?(b=document.createEvent("MouseEvents"),b.initEvent("click",!0,!0),a[0].dispatchEvent(b)):
a.click())});a.bind("focus.uniform",function(){i.addClass(b.focusClass)}).bind("blur.uniform",function(){i.removeClass(b.focusClass)});c.uniform.noSelect(i);l(a)}})}})(jQuery);
