(function(d,j){d.uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose File",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"uniform",resetSelector:!1,autoHide:!0,selectAutoWidth:!1},elements:[]};d.support.selectOpacity=d.browser.msie&&7>d.browser.version?
!1:!0;d.fn.uniform=function(a){function k(e){var c=d(e),b=d("<div>"),f=d("<span>");b.addClass(a.buttonClass);a.useID&&c.attr("id")&&b.attr("id",a.idPrefix+"-"+c.attr("id"));var g;if(c.is("a")||c.is("button"))g=c.text();else if(c.is(":submit")||c.is(":reset")||c.is("input[type=button]"))g=c.attr("value");g=""==g?c.is(":reset")?"Reset":"Submit":g;f.text(g);c.css("display","none");c.wrap(b);c.wrap(f);b=c.closest("div");f=c.closest("span");c.is(":disabled")&&b.addClass(a.disabledClass);b.bind("mouseenter.uniform",
function(){b.addClass(a.hoverClass)}).bind("mouseleave.uniform",function(){b.removeClass(a.hoverClass);b.removeClass(a.activeClass)}).bind("mousedown.uniform touchbegin.uniform",function(){b.addClass(a.activeClass)}).bind("mouseup.uniform touchend.uniform",function(){b.removeClass(a.activeClass)}).bind("click.uniform touchend.uniform",function(a){if(d(a.target).is("span")||d(a.target).is("div"))e[0].dispatchEvent?(a=document.createEvent("MouseEvents"),a.initEvent("click",!0,!0),e[0].dispatchEvent(a)):
e[0].click()});e.bind("focus.uniform",function(){b.addClass(a.focusClass)}).bind("blur.uniform",function(){b.removeClass(a.focusClass)});d.uniform.noSelect(b);i(e)}function l(e){var c=d(e),b=d("<div />"),f=d("<span />"),g=c.width();"none"==c.css("display")&&a.autoHide&&b.hide();b.addClass(a.selectClass);if(a.selectAutoWidth){var g=c.width(),h=b.width(),m=f.width()-g;b.width(h-m+25);c.width(g+32);c.css("left","2px");f.width(g)}a.useID&&e.attr("id")&&b.attr("id",a.idPrefix+"-"+e.attr("id"));h=e.find(":selected:first");
0==h.length&&(h=e.find("option:first"));f.html(h.html());e.css("opacity",0);e.wrap(b);e.before(f);b=e.parent("div");f=e.siblings("span");a.selectAutoWidth&&(h=parseInt(b.css("paddingLeft"),10),f.width(g-h-15),e.width(g+h),e.css("min-width",g+h+"px"),b.width(g+h));e.bind("change.uniform",function(){f.text(e.find(":selected").html());b.removeClass(a.activeClass)}).bind("focus.uniform",function(){b.addClass(a.focusClass)}).bind("blur.uniform",function(){b.removeClass(a.focusClass);b.removeClass(a.activeClass)}).bind("mousedown.uniform touchbegin.uniform",
function(){b.addClass(a.activeClass)}).bind("mouseup.uniform touchend.uniform",function(){b.removeClass(a.activeClass)}).bind("click.uniform touchend.uniform",function(){b.removeClass(a.activeClass)}).bind("mouseenter.uniform",function(){b.addClass(a.hoverClass)}).bind("mouseleave.uniform",function(){b.removeClass(a.hoverClass);b.removeClass(a.activeClass)}).bind("keyup.uniform",function(){f.text(e.find(":selected").html())});c.is(":disabled")&&b.addClass(a.disabledClass);d.uniform.noSelect(f);i(e)}
function n(e){var c=d(e),b=d("<div />"),f=d("<span />");"none"==c.css("display")&&a.autoHide&&b.hide();b.addClass(a.checkboxClass);a.useID&&e.attr("id")&&b.attr("id",a.idPrefix+"-"+e.attr("id"));c.wrap(b);c.wrap(f);f=e.parent();b=f.parent();c.css("opacity",0).bind("focus.uniform",function(){b.addClass(a.focusClass)}).bind("blur.uniform",function(){b.removeClass(a.focusClass)}).bind("click.uniform touchend.uniform",function(){c.is(":checked")?(d(e).attr("checked","checked"),f.addClass(a.checkedClass)):
(d(e).removeAttr("checked"),f.removeClass(a.checkedClass))}).bind("mousedown.uniform touchbegin.uniform",function(){b.addClass(a.activeClass)}).bind("mouseup.uniform touchend.uniform",function(){b.removeClass(a.activeClass)}).bind("mouseenter.uniform",function(){b.addClass(a.hoverClass)}).bind("mouseleave.uniform",function(){b.removeClass(a.hoverClass);b.removeClass(a.activeClass)});c.is(":checked")&&(c.attr("checked","checked"),f.addClass(a.checkedClass));c.is(":disabled")&&b.addClass(a.disabledClass);
i(e)}function o(e){var c=d(e),b=d("<div />"),f=d("<span />");"none"==c.css("display")&&a.autoHide&&b.hide();b.addClass(a.radioClass);a.useID&&e.attr("id")&&b.attr("id",a.idPrefix+"-"+e.attr("id"));c.wrap(b);c.wrap(f);f=e.parent();b=f.parent();c.css("opacity",0).bind("focus.uniform",function(){b.addClass(a.focusClass)}).bind("blur.uniform",function(){b.removeClass(a.focusClass)}).bind("click.uniform touchend.uniform",function(){if(d(e).is(":checked")){var c=a.radioClass.split(" ")[0];d("."+c+" span."+
a.checkedClass+":has([name='"+d(e).attr("name")+"'])").removeClass(a.checkedClass);f.addClass(a.checkedClass)}else f.removeClass(a.checkedClass)}).bind("mousedown.uniform touchend.uniform",function(){d(e).is(":disabled")||b.addClass(a.activeClass)}).bind("mouseup.uniform touchbegin.uniform",function(){b.removeClass(a.activeClass)}).bind("mouseenter.uniform touchend.uniform",function(){b.addClass(a.hoverClass)}).bind("mouseleave.uniform",function(){b.removeClass(a.hoverClass);b.removeClass(a.activeClass)});
c.is(":checked")&&f.addClass(a.checkedClass);c.is(":disabled")&&b.addClass(a.disabledClass);i(e)}function p(e){var c=d(e),b=d("<div />"),f=d("<span>"+a.fileDefaultText+"</span>"),g=d("<span>"+a.fileBtnText+"</span>");"none"==c.css("display")&&a.autoHide&&b.hide();b.addClass(a.fileClass);f.addClass(a.filenameClass);g.addClass(a.fileBtnClass);a.useID&&c.attr("id")&&b.attr("id",a.idPrefix+"-"+c.attr("id"));c.wrap(b);c.after(g);c.after(f);b=c.closest("div");f=c.siblings("."+a.filenameClass);g=c.siblings("."+
a.fileBtnClass);c.attr("size")||c.attr("size",b.width()/10);var h=function(){var b=c.val();""===b?b=a.fileDefaultText:(b=b.split(/[\/\\]+/),b=b[b.length-1]);f.text(b)};h();c.css("opacity",0).bind("focus.uniform",function(){b.addClass(a.focusClass)}).bind("blur.uniform",function(){b.removeClass(a.focusClass)}).bind("mousedown.uniform",function(){d(e).is(":disabled")||b.addClass(a.activeClass)}).bind("mouseup.uniform",function(){b.removeClass(a.activeClass)}).bind("mouseenter.uniform",function(){b.addClass(a.hoverClass)}).bind("mouseleave.uniform",
function(){b.removeClass(a.hoverClass);b.removeClass(a.activeClass)});d.browser.msie?c.bind("click.uniform.ie7",function(){setTimeout(h,0)}):c.bind("change.uniform",h);c.is(":disabled")&&b.addClass(a.disabledClass);d.uniform.noSelect(f);d.uniform.noSelect(g);i(e)}function i(a){d(a).data("uniformed","true");a=a.get();1<a.length?d.each(a,function(a,b){d.uniform.elements.push(b)}):d.uniform.elements.push(a)}var a=d.extend({},d.uniform.options,a),q=this;!1!==a.resetSelector&&d(a.resetSelector).mouseup(function(){window.setTimeout(function(){d.uniform.update(q)},
10)});d.uniform.restore=function(a){a==j&&(a=d(d.uniform.elements));d(a).each(function(){if(d(this).data("uniformed")){d(this).is(":checkbox")?d(this).unwrap().unwrap():d(this).is("select")?(d(this).siblings("span").remove(),d(this).unwrap()):d(this).is(":radio")?d(this).unwrap().unwrap():d(this).is(":file")?(d(this).siblings("span").remove(),d(this).unwrap()):d(this).is("button, :submit, :reset, a, input[type='button']")&&d(this).unwrap().unwrap();d(this).unbind(".uniform");d(this).css("opacity",
"1");var c=d.inArray(d(a),d.uniform.elements);d.uniform.elements.splice(c,1);d(this).removeData("uniformed")}})};d.uniform.noSelect=function(a){function c(){return!1}d(a).each(function(){this.onselectstart=this.ondragstart=c;d(this).mousedown(c).css({MozUserSelect:"none"})})};d.uniform.update=function(e){e==j&&(e=d(d.uniform.elements));e=d(e);e.each(function(){var c=d(this);if(c.data("uniformed"))if(c.is("select")){var b=c.siblings("span"),e=c.parent("div");e.removeClass(a.hoverClass+" "+a.focusClass+
" "+a.activeClass);b.html(c.find(":selected").html());c.is(":disabled")?e.addClass(a.disabledClass):e.removeClass(a.disabledClass)}else if(c.is(":checkbox"))b=c.closest("span"),e=c.closest("div"),e.removeClass(a.hoverClass+" "+a.focusClass+" "+a.activeClass),b.removeClass(a.checkedClass),c.is(":checked")&&b.addClass(a.checkedClass),c.is(":disabled")?e.addClass(a.disabledClass):e.removeClass(a.disabledClass);else if(c.is(":radio"))b=c.closest("span"),e=c.closest("div"),e.removeClass(a.hoverClass+" "+
a.focusClass+" "+a.activeClass),b.removeClass(a.checkedClass),c.is(":checked")&&b.addClass(a.checkedClass),c.is(":disabled")?e.addClass(a.disabledClass):e.removeClass(a.disabledClass);else if(c.is(":file"))e=c.parent("div"),b=c.siblings("."+a.filenameClass),btnTag=c.siblings(a.fileBtnClass),e.removeClass(a.hoverClass+" "+a.focusClass+" "+a.activeClass),b.text(c.val()),c.is(":disabled")?e.addClass(a.disabledClass):e.removeClass(a.disabledClass);else if(c.is(":submit")||c.is(":reset")||c.is("button")||
c.is("a")||c.is("input[type=button]"))e=c.closest("div"),e.removeClass(a.hoverClass+" "+a.focusClass+" "+a.activeClass),c.is(":disabled")?e.addClass(a.disabledClass):e.removeClass(a.disabledClass)})};return this.each(function(){if(!d(this).data("uniformed")&&d.support.selectOpacity){var a=d(this);if(a.is("select"))this.multiple||(a.attr("size")==j||1>=a.attr("size"))&&l(a);else if(a.is(":checkbox"))n(a);else if(a.is(":radio"))o(a);else if(a.is(":file"))p(a);else if(a.is(":text, :password, input[type='email'], input[type='search'], input[type='tel'], input[type='url'], input[type='datetime'], input[type='date'], input[type='month'], input[type='week'], input[type='time'], input[type='datetime-local'], input[type='number'], input[type='color']")){var c=
d(a);c.addClass(c.attr("type"));i(a)}else a.is("textarea")?(d(a).addClass("uniform"),i(a)):(a.is("a")||a.is(":submit")||a.is(":reset")||a.is("button")||a.is("input[type=button]"))&&k(a)}})}})(jQuery);
