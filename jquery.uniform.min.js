(function(f,q){function h(a,b,c){for(var d in c)c.hasOwnProperty(d)&&(d.replace(/ |$/g,b.eventNamespace),a.bind(d,c[d]))}function k(a,b,c){h(a,c,{focus:function(){b.addClass(c.focusClass)},blur:function(){b.removeClass(c.focusClass);b.removeClass(c.activeClass)},mouseenter:function(){b.addClass(c.hoverClass)},mouseleave:function(){b.removeClass(c.hoverClass);b.removeClass(c.activeClass)},"mousedown touchbegin":function(){a.is(":disabled")||b.addClass(c.activeClass)},"mouseup touchend":function(){b.removeClass(c.activeClass)}})}
function u(a){if(a[0].multiple)return!0;a=a.attr("size");return a===q||1>=a?!1:!0}function v(a,b,c){a=a.val();""===a?a=c.fileDefaultHtml:(a=a.split(/[\/\\]+/),a=a[a.length-1]);b.text(a)}function l(a,b){a.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass)}function i(a,b,c){var d=b.is(":checked");b.prop?b.prop("checked",d):d?b.attr("checked","checked"):b.removeAttr("checked");b=c.checkedClass;d?a.addClass(b):a.removeClass(b)}function j(a,b,c){c=c.disabledClass;b.is(":disabled")?a.addClass(c):
a.removeClass(c)}function r(a,b,c){switch(c){case "after":return a.after(b),a.next();case "before":return a.before(b),a.prev();case "wrap":return a.wrap(b),a.parent()}return null}function m(a,b,c){var d,e;c||(c={});c=f.extend({bind:{},css:null,divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},c);d=f("<div />");e=f("<span />");b.autoHide&&!a.is(":visible")&&d.hide();c.divClass&&d.addClass(c.divClass);c.spanClass&&e.addClass(c.spanClass);b.useID&&a.attr("id")&&d.attr("id",b.idPrefix+
"-"+a.attr("id"));c.spanHtml&&e.html(c.spanHtml);d=r(a,d,c.divWrap);e=r(a,e,c.spanWrap);c.css&&a.css(c.css);j(d,a,b);return{div:d,span:e}}function n(){return!1}function s(a,b){return function(){a.unwrap().unwrap().unbind(b.eventNamespace)}}function p(a,b){h(a,b,{"selectstart dragstart mousedown":n});return a.css({MozUserSelect:"none",msUserSelect:"none",webkitUserSelect:"none",userSelect:"none"})}f.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",
disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!1,selectClass:"selector",submitDefaultHtml:"Submit",useID:!0},elements:[]};var w=!0,x=[{match:function(a){return a.is("button, :submit, :reset, a, input[type='button']")},apply:function(a,
b){var c,d;d=b.submitDefaultHtml;a.is(":reset")&&(d=b.resetDefaultHtml);if(a.is("a, button"))d=a.html()||d;else if(a.is(":submit, :reset, input[type=button]")){var e;e=(e=a.attr("value"))?f("<span />").text(e).html():"";d=e||d}c=m(a,b,{css:{display:"none"},divClass:b.buttonClass,spanHtml:d}).div;k(a,c,b);h(c,b,{"click touchend":function(b){f(b.target).is("span, div")&&(a[0].dispatchEvent?(b=document.createEvent("MouseEvents"),b.initEvent("click",!0,!0),a[0].dispatchEvent(b)):a.click())}});p(c,b);
return{remove:s(a,b),update:function(){l(c,b);j(c,a,b)}}}},{match:function(a){return a.is(":checkbox")},apply:function(a,b){var c,d,e;c=m(a,b,{css:{opacity:0},divClass:b.checkboxClass});d=c.div;e=c.span;k(a,d,b);h(a,b,{"click touchend":function(){i(e,a,b)}});i(e,a,b);return{remove:s(a,b),update:function(){l(d,b);e.removeClass(b.checkedClass);i(e,a,b);j(d,a,b)}}}},{match:function(a){return a.is(":file")},apply:function(a,b){function c(){v(a,g,b)}var d,e,g,t;d=m(a,b,{css:{opacity:0},divClass:b.fileClass,
spanClass:b.fileButtonClass,spanHtml:b.fileButtonHtml,spanWrap:"after"});e=d.div;t=d.span;g=f("<span />").html(b.fileDefaultHtml);g.addClass(b.filenameClass);g=r(a,g,"after");a.attr("size")||a.attr("size",e.width()/10);k(a,e,b);c();f.browser.msie?h(a,b,{click:function(){a.trigger("change");setTimeout(c,0)}}):h(a,b,{change:c});p(g,b);p(t,b);return{remove:function(){g.remove();t.remove();return a.unwrap().unbind(b.eventNamespace)},update:function(){l(e,b);v(a,g,b);j(e,a,b)}}}},{match:function(a){return a.is("input")?
(a=a.attr("type").toLowerCase(),0<=" color date datetime datetime-local email month number password search tel text time url week ".indexOf(" "+a+" ")):!1},apply:function(a){var b=a.attr("type");a.addClass(b);return{remove:function(){a.removeClass(b)},update:n}}},{match:function(a){return a.is(":radio")},apply:function(a,b){var c,d,e;c=m(a,b,{css:{opacity:0},divClass:b.radioClass});d=c.div;e=c.span;k(a,d,b);h(a,b,{"click touchend":function(){var c="."+b.radioClass.split(" ")[0]+" span."+b.checkedClass+
":has([name='"+a.attr("name")+"'])";f(c).each(function(){var a=f(this),c=a.find(":radio");i(a,c,b)});i(e,a,b)}});i(e,a,b);return{remove:s(a,b),update:function(){l(d,b);i(e,a,b);j(d,a,b)}}}},{match:function(a){return a.is("select")&&!u(a)?!0:!1},apply:function(a,b){var c,d,e,g;g=a.width();c=m(a,b,{css:{opacity:0,left:"2px",width:g+32+"px"},divClass:b.selectClass,spanHtml:(a.find(":selected:first")||a.find("option:first")).html(),spanWrap:"before"});d=c.div;e=c.span;b.selectAutoWidth?(d.width(f("<div />").width()-
f("<span />").width()+g+25),c=parseInt(d.css("paddingLeft"),10),e.width(g-c-15),a.width(g+c),a.css("min-width",g+c+"px"),d.width(g+c)):(c=a.width(),d.width(c),e.width(c-25));k(a,d,b);h(a,b,{change:function(){e.html(a.find(":selected").html());d.removeClass(b.activeClass)},"click touchend":function(){var b=a.find(":selected").html();e.html()!==b&&a.trigger("change")},keyup:function(){e.html(a.find(":selected").html())}});p(e,b);return{remove:function(){e.remove();a.unwrap().unbind(b.eventNamespace);
return a},update:function(){l(d,b);e.html(a.find(":selected").html());j(d,a,b)}}}},{match:function(a){return a.is("select")&&u(a)?!0:!1},apply:function(a){a.addClass("uniform-multiselect");return{remove:function(){a.removeClass("uniform-multiselect")},update:n}}},{match:function(a){return a.is("textarea")},apply:function(a){a.addClass("uniform");return{remove:function(){a.removeClass("uniform")},update:n}}}];f.browser.msie&&7>f.browser.version&&(w=!1);f.fn.uniform=function(a){var b=this,a=f.extend({},
f.uniform.defaults,a);!1!==a.resetSelector&&f(a.resetSelector).mouseup(function(){window.setTimeout(function(){f.uniform.update(b)},10)});return this.each(function(){var b=f(this),d,e;b.data("uniformed")&&f.uniform.update(b);if(!b.data("uniformed")&&w)for(d=0;d<x.length;d+=1)if(e=x[d],e.match(b,a)){d=e.apply(b,a);b.data("uniformed",d);f.uniform.elements.push(b.get(0));break}})};f.uniform.restore=f.fn.uniform.restore=function(a){a===q&&(a=f.uniform.elements);f(a).each(function(){var a=f(this),c;if(c=
a.data("uniformed"))c.remove(),c=f.inArray(this,f.uniform.elements),0<=c&&f.uniform.elements.splice(c,1),a.removeData("uniformed")})};f.uniform.update=f.fn.uniform.update=function(a){a===q&&(a=f.uniform.elements);f(a).each(function(){var a=f(this),c;(c=a.data("uniformed"))&&c.update(a,c.options)})}})(jQuery);
